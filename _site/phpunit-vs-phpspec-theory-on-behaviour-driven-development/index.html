
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>liuggio's blog :: PHPUnit vs PHPSpec: theory on Behaviour Driven Development 1/3</title>
    
        <meta name="description" content="PHPUnit vs PHPSpec: theory on Behaviour Driven Development 1/3">
    
    <meta name="author" content="liuggio">
    <!-- Le styles -->
    <link href="/assets/themes/readable-liuggio/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/readable-liuggio/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link rel="stylesheet" href="/assets/themes/readable-liuggio/css/font-awesome.css">
   <!-- Google Web Font-->
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>  
  </head>

  <body> 
    <div class="container">
      <div id="header">
        <div class="logo"><img src="/assets/themes/readable-liuggio/img/welcometothebundle-logo.png"></div>
        <h1><a alt="" id="sitename" href="http://www.welcometothebundle.com/">Welcome to the bundle</a></h1>
        <h2>Best Practice, symfony2, developing, and fluffs.</h2>
      </div>
      <div class="content">
        <div class="row">
          <div class="sidebar">
           <div class="span3">
            <div class="box">
             

              <p align="center"><img src="http://www.gravatar.com/avatar/662a52953053d94a145a00df9da9f0d2.png"></p>
              <p style="font-size:95%"> I'm liuggio (aka Giulio De Donato) analyst and software developer graduated in I.T. Software Engineering with strong experience in web developing. I'm lead developer at Terravision and I love open source</p>

              <p align="center"><a href="https://github.com/liuggio" title="liuggio github projects"><img src="/assets/themes/readable-liuggio/img/github_blue_black_cat_32.png" target="_blank"></a>

                <a href="http://twitter.com/liuggio" title="liuggio twitter page"><img src="/assets/themes/readable-liuggio/img/1345542601_Twitter_32x32.png" target="_blank"></a>

                <a href="http://www.linkedin.com/profile/view?id=94597934&" title="Giulio De Donato Linkedin profile"><img src="/assets/themes/readable-liuggio/img/1345542710_social_linkedin_box_blue.png" target="_blank" width=34></a>
              </p>

             

              <div  align="center" class="twitter-cnt"><a href="https://twitter.com/liuggio" class="twitter-follow-button" data-show-count="false" data-size="large" data-dnt="true">Follow @liuggio</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

                <div class="btn clear-cache btn-mini"  onclick="alert('This button never works, maybe you don\'t have the permission, or maybe you need to set the acl.\n Always clear cache.')"> Clear cache 
                </div>
              </div>
            </div>
            <div class="box">                
                <h2>Categories</h2>
                  
                 
                  <h4 id="award-ref">award</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li><a href="/servergrove-stastdclientbundle-interesting-symfony-bundles">ServerGrove StastdClientBundle Interesting Symfony Bundles</a></li>
      	
      
    
  



                  </ul>
                 
                  <h4 id="cloud-ref">cloud</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li><a href="/symfony2-assets-on-rackspace-cloud-files">Symfony2 assets on RackSpace Cloud files</a></li>
      	
      
    
  



                  </ul>
                 
                  <h4 id="phpunit-ref">phpunit</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li><a href="/automate-test-and-code-inspection-in-php-with-guard-and-symfony2">Automate Test and Code Inspection in PHP with Guard, and Symfony2</a></li>
      	
      
    
  



                  </ul>
                 
                  <h4 id="statsd-ref">statsd</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li><a href="/easily-install-statsd-and-graphite-with-vagrant">Easily install statsd and graphite with vagrant</a></li>
      	
      
    
  



                  </ul>
                 
                  <h4 id="BDD-ref">BDD</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li class="active"><a href="/phpunit-vs-phpspec-theory-on-behaviour-driven-development" class="active">PHPUnit vs PHPSpec: theory on Behaviour Driven Development 1/3</a></li>
      	
      
    
  



                  </ul>
                 
                  <h4 id="conference-ref">conference</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li><a href="/symfony-day-5-october-turin-2012">Symfony Day 5 October, Turin 2012</a></li>
      	
      
    
  



                  </ul>
                 
                  <h4 id="manifesto-ref">manifesto</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li><a href="/tvision-team-manifesto">2013-Software Team Manifesto</a></li>
      	
      
    
  



                  </ul>
                 
                  <h4 id="hack-ref">hack</h2>
                  <ul>
                      
                    


  
    
      
      	
      	<li><a href="/using-github-or-bitbucket-as-assets-container-for-symfony2">Using Github or Bitbucket as Assets container for Symfony2</a></li>
      	
      
    
  



                  </ul>
                
            </div>
            <div class="box">                     
                <h2>Tags</h2>
                <ul>
                  
                


  
     
    	<li><a href="/tags.html#tdd-ref">tdd <span>1</span></a></li>
     
    	<li><a href="/tags.html#cache-ref">cache <span>1</span></a></li>
     
    	<li><a href="/tags.html#optimization-ref">optimization <span>1</span></a></li>
     
    	<li><a href="/tags.html#tvision-ref">tvision <span>1</span></a></li>
     
    	<li><a href="/tags.html#automate-ref">automate <span>1</span></a></li>
     
    	<li><a href="/tags.html#guard-ref">guard <span>1</span></a></li>
     
    	<li><a href="/tags.html#team-ref">team <span>1</span></a></li>
     
    	<li><a href="/tags.html#phpunit-ref">phpunit <span>2</span></a></li>
     
    	<li><a href="/tags.html#statsd-ref">statsd <span>2</span></a></li>
     
    	<li><a href="/tags.html#rackspace-ref">rackspace <span>1</span></a></li>
     
    	<li><a href="/tags.html#php-ref">php <span>7</span></a></li>
     
    	<li><a href="/tags.html#bundle-ref">bundle <span>3</span></a></li>
     
    	<li><a href="/tags.html#bdd-ref">bdd <span>1</span></a></li>
     
    	<li><a href="/tags.html#servergrove-ref">servergrove <span>1</span></a></li>
     
    	<li><a href="/tags.html#conference-ref">conference <span>1</span></a></li>
     
    	<li><a href="/tags.html#tutorial-ref">tutorial <span>1</span></a></li>
     
    	<li><a href="/tags.html#cdn-ref">cdn <span>1</span></a></li>
     
    	<li><a href="/tags.html#github-ref">github <span>1</span></a></li>
     
    	<li><a href="/tags.html#code-inspection-ref">code-inspection <span>1</span></a></li>
     
    	<li><a href="/tags.html#speaker-ref">speaker <span>1</span></a></li>
     
    	<li><a href="/tags.html#graphite-ref">graphite <span>1</span></a></li>
     
    	<li><a href="/tags.html#bitbucket-ref">bitbucket <span>1</span></a></li>
     
    	<li><a href="/tags.html#coding-ref">coding <span>1</span></a></li>
     
    	<li><a href="/tags.html#vagrant-ref">vagrant <span>1</span></a></li>
     
    	<li><a href="/tags.html#phpspec-ref">phpspec <span>1</span></a></li>
     
    	<li><a href="/tags.html#test-ref">test <span>1</span></a></li>
     
    	<li><a href="/tags.html#symfony2-ref">symfony2 <span>5</span></a></li>
     
    	<li><a href="/tags.html#assetic-ref">assetic <span>2</span></a></li>
    
  



                </ul>
            </div>      
          </div>
        </div>
        


  <div class="span9">
     <div class="page-header">
       <h1>PHPUnit vs PHPSpec: theory on Behaviour Driven Development 1/3 </h1>
  
       <div class="row">
        <div class="span4">
           <div class="date"><span>05 January 2013</span></div> 
        </div>

        <div class="span5">
        
          <ul class="tag_box">
          
          


  
     
    	<li><a href="/tags.html#phpunit-ref">phpunit <span>2</span></a></li>
     
    	<li><a href="/tags.html#tdd-ref">tdd <span>1</span></a></li>
     
    	<li><a href="/tags.html#bdd-ref">bdd <span>1</span></a></li>
     
    	<li><a href="/tags.html#php-ref">php <span>7</span></a></li>
     
    	<li><a href="/tags.html#test-ref">test <span>1</span></a></li>
     
    	<li><a href="/tags.html#phpspec-ref">phpspec <span>1</span></a></li>
    
  



          </ul>
          
        </div>
      </div>

     </div>
     
    <p>The first part of a series of short articles (maybe three) where I&#8217;d like to share my tiny experience with BDD and in particular with PHPSpec.</p>

<h2 id='phpunit_vs_phpspec_a_word_on_behaviour_testing'>PHPUnit vs <a href='https://github.com/phpspec/phpspec2'>PHPSpec</a>: A word on behaviour testing</h2>

<p>I recently discovered that there is an alternative to PHPUnit, and I really like this new approach.</p>

<p><strong>Q:</strong> But why an alternative if PHPUnit does everything I need?</p>

<p><strong>A:</strong> What could be changed is the way of doing test,</p>

<p>If you&#8217;ve ever worked in TDD, you know it&#8217;s very time consuming</p>

<ol>
<li>
<p>create - create or modify the test</p>
</li>

<li>
<p>fail - see it fail</p>
</li>

<li>
<p>pass - code the minimum to get the test passed</p>
</li>

<li>
<p>refactor - Refactoring</p>
</li>

<li>
<p>go to step 1</p>
</li>
</ol>

<h2 id='the_differences_in_a_sentence'>The differences in a sentence</h2>

<p>If the story is a key of the development, the behaviour is the differrence between TDD and BDD.</p>

<p>If you need to test the insertion of an object into a collection and the collection is represented by an Array, with xUnit you should assert that the collection contains the object in the Array, but if the collection will change to another type of container, graph for example, the xUnit will fail, even if the behaviour is unchanged. In BDD you are not testing you are describing what that classes will do, and so you can continue creating the class (PHPSpec will create the class and the methods for you)</p>

<h2 id='bdd'>BDD</h2>

<p>There are several BDD frameworks on PHP depending on what you want to test.</p>

<h4 id='external_behaviour'>External behaviour</h4>

<p><a href='http://behat.org/'>Behat</a> deals to have specifications that reflects the environment from the outside.</p>

<h4 id='internal_behaviour'>Internal behaviour</h4>

<p><a href='https://github.com/phpspec/phpspec2'>PHPSpec</a> responds to the behaviour in the lower level, from the internal of the classes.</p>

<p><a href='https://github.com/phpspec/phpspec2'>PHPSpec</a> is considered a tool that helps you to develop.</p>

<h2 id='summary'>Summary</h2>

<p>The BDD tests what the object does instead of what it is, and what it does is much more important.</p>

<p>We have to say that Ruby community helped a lot the evolution of BDD, RSpec is a standard-de-facto, in Ruby world.</p>

<h2 id='faq'>FAQ</h2>

<p><strong>Q:</strong> When I should use PHPUnit and when to use <a href='https://github.com/phpspec/phpspec2'>PHPSpec</a>?</p>

<p><strong>A:</strong> There isn&#8217;t a better way between the two, depending on how you want to approach the problem, if you want to follow the behaviour or a unit test the code.</p>

<p><strong>Q:</strong> With PHPUnit I could do the same things as I could do with <a href='https://github.com/phpspec/phpspec2'>PHPSpec</a>?</p>

<p><strong>A:</strong> Absolutely, in fact there is a mapping between the two</p>

<p>• Assertion Becomes expectation.</p>

<p>• Test method Becomes code example</p>

<p>• Test case example Becomes group</p>

<p><strong>BUT</strong> linguistically you would be more look at the code that the result, so you might miss the concept of behaviour.</p>

<h2 id='phpspec_advantages'><a href='https://github.com/phpspec/phpspec2'>PHPSpec</a> advantages</h2>

<p>xSpec is context specific, expectation, the output is the documentation and it is for this reason that the language is used because the same syntax you guide you to focus in behaviour, and the importance of documentation.</p>

<pre><code>bin/phpspec run -f prettify -v</code></pre>

<p>So the big change is on how you write test code.</p>

<p><strong>In the next post I will show some examples on how you could use <a href='https://github.com/phpspec/phpspec2'>PHPSpec</a> to test some (in)famous design pattern.</strong></p>

<h2 id='bibliography'>Bibliography</h2>

<ol>
<li>
<p><a href='http://pragprog.com/book/achbd/the-rspec-book'>The RSpec Book Behaviour-Driven Development with RSpec, Cucumber, and Friends</a> by David Chelimsky, Dave Astels, Zach Dennis, Aslak Hellesøy, Bryan Helmkamp, Dan North</p>
</li>

<li>
<p>Test Driven Development. By Example di Kent Beck (dic. 2002)</p>
</li>
</ol>
    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/automate-test-and-code-inspection-in-php-with-guard-and-symfony2" title="Automate Test and Code Inspection in PHP with Guard, and Symfony2">&larr; Previous</a></li>
      
        <li><a href="/index.html">Archive</a></li>
      
        <li class="next disabled"><a>Next &rarr;</a>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'welcometothebundle'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
  
 


   

      </div>
  </div>
      <hr>
      <footer>
        <p>&copy; liuggio 2012 
          with help from
            <a href="http://prose.io" target="_blank" title="A Content Editor for GitHub">prose.io</a>,
            <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>,
            <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>,
            <a href= "http://github.com" target="_blank">github</a>,
            <a href="http://bootswatch.com/" target="_blank">bootswatch</a>
        </p>
        <div id="footer"></div>
      </footer>

    </div> <!-- /container -->

    
    <script type="text/javascript">
    var links = document.links;

    for (var i = 0, linksLength = links.length; i < linksLength; i++) {
       if (links[i].hostname != window.location.hostname) {
           links[i].target = '_blank';
       } 
    }

    var links = document.links;
    for (var i = 0, linksLength = links.length; i < linksLength; i++) {
      
       if (links[i].href == 'http://www.slideshare.net/liuggio/rationally-boost-your-symfony2-application-with-caching-tips-and-monitoring' ) {
 
           //dirty solution in order to add slideshare frame into github Jekyll
           links[i].innerHTML='<iframe src="http://www.slideshare.net/slideshow/embed_code/14625769?rel=0" width="512" height="421" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen webkitallowfullscreen mozallowfullscreen> </iframe><div style="margin-bottom:5px"> <strong> <a href="http://www.slideshare.net/liuggio/rationally-boost-your-symfony2-application-with-caching-tips-and-monitoring" title="Rationally boost your symfony2 application with caching tips and monitoring" target="_blank">Rationally boost your symfony2 application with caching tips and monitoring</a></div>';
       break;
       } 
    }

    </script>


    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37195869-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>

